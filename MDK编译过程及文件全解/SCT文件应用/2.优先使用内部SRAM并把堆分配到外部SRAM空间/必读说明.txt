/*********************************************************************************************/

【*】 程序简介 
-工程名称：优先使用内部SRAM并把堆分配到外部SRAM空间
-实验平台: 秉火STM32 F407 开发板
-MDK版本：5.16
-ST固件库版本：1.8.0


【 ！】功能简介：
	本工程使用手动编写的sct文件控制存储器分配
	演示如何自动分配变量到外部SRAM
	演示如何使用malloc管理外部SRAM空间

【 ！！】注意事项：

我们用于清理MDK杂项文件的keilkill.bat工具可能会删除本工程的sct文件，
	若在Output目录下找不到sct文件，请新建一个名为“SDRAM.sct”的文件到该目录，
	并复制如下内容到该文件：

/*-----------------sct文件内容，不要复制这一行------------------------*/
; *************************************************************
; *** Scatter-Loading Description File generated by uVision ***
; *************************************************************

LR_IROM1 0x08000000 0x00080000  {    ; load region size_region
  ER_IROM1 0x08000000 0x00080000  {  ; load address = execution address
   *.o (RESET, +First)
   *(InRoot$$Sections)
   .ANY (+RO)
  }
  
  RW_IRAM1 0x20000000 0x00020000  {   ; 内部SRAM
	;默认情况下以下属性的内容都会被分配到RW_IRAM1，所以可注释掉
	;*.o(STACK)				;选择栈区
	;stm32f4xx_rcc.o(+RW)	;选择stm32f4xx_rcc的RW内容
	
	
	.ANY (+RW +ZI)			;其余的RW/ZI-data都分配到这里
  }
  
 RW_ERAM1 0x6C000000 0x00100000 {  	; 外部SRAM  
   *.o(HEAP)					;选择堆区
   .ANY (EXRAM)				;选择EXRAM节区

  }
}

/*-----------------不要复制这一行-----------------*/

也可打开工程目录下的“sct文件备份.txt”文件，复制其内容
 
【 ！】实验操作：
电脑端使用串口调试助手，选择电脑与STM32相连的COM口，设置为115200-N-8-1，
复位开发板，即可接收STM32串口发送给电脑的调试信息。


/*********************************************************************************************/

【*】 引脚分配

SRAM （IS62WV51216 1MB 字节）：
SRAM芯片的接口与STM32的FSMC相连。
		/*控制信号线*/
		CS	<--->PG12 	(FSMC_NE4)
		WE	<--->PD5	(FSMC_NWE)
		OE	<--->PD4	(FSMC_NOE)
		UB	<--->PE1	(FSMC_NBL0)
		LB	<--->PE0	(FSMC_NBL1)
		
地址和数据信号线省略，本连接的SRAM基地址为 (0x6C000000)，结束地址为(0x6C100000),大小为1M字节

		
串口（TTL-USB TO UART）：
CH340的收发引脚与STM32的发收引脚相连。
	RX<--->PA9
	TX<--->PA10
	
/*********************************************************************************************/

【*】 时钟

A.晶振：
-外部高速晶振：25MHz
-RTC晶振：32.768KHz

B.各总线运行时钟：
-系统时钟 = SYCCLK = AHB1 = 168MHz
-APB2 = 84MHz 
-APB1 = 42MHz

C.浮点运算单元：
  不使用


/*********************************************************************************************/

【*】 版本

-程序版本：1.0
-发布日期：2015-10

-版本更新说明：首次发布

/*********************************************************************************************/

【*】 联系我们

-秉火论坛    :http://www.firebbs.cn
-淘宝店铺    :https://fire-stm32.taobao.com

/*********************************************************************************************/